<div class="container">
  <div class="row h-auto">
  </div>
    <div class="row">
        <div class="col">
          <div data-aos="zoom-in" class="table-responsive" style="overflow-x: auto; white-space: nowrap;">
            <table class="table align-middle mb-0" style="background-color: black;color: white;">
                <thead class="bg-black" style="font-size: 20px;">
                  <tr class="table-dark">
                    <th>Room ID</th>
                    <th>Room NO</th>
                    <th>Type</th>
                    <th>Price Per Hour (Rs.)</th>
                    <th>Price Per Day (Rs.)</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody style="font-size: 20px;">
                  <tr class="table-dark" *ngFor="let room of roomList">
                    <td>
                      <div class="d-flex align-items-center">
                        <img
                            src="https://www.usatoday.com/gcdn/-mm-/05b227ad5b8ad4e9dcb53af4f31d7fbdb7fa901b/c=0-64-2119-1259/local/-/media/USATODAY/USATODAY/2014/08/13/1407953244000-177513283.jpg?width=660&height=373&fit=crop&format=pjpg&auto=webp"
                            alt=""
                            style="width: 45px; height: 45px"
                            class="rounded-circle"
                            />
                        <div class="ms-3">
                          <p class="fw-bold mb-1">{{room.roomId}}</p>
                          <!-- <p class="text-muted mb-0"></p> -->
                        </div>
                      </div>
                    </td>
                    <td >
                      <p class="fw-normal mb-1">{{room.roomNumber}}</p>
                    </td>
                    <td>
                      <span class="badge badge-success d-inli">{{room.roomType}}</span>
                    </td>
                    <td>{{room.pricePerHour}}</td>
                    <td>
                      {{room.pricePerDay}}
                    </td>
                    <td class="text-lg-center">
                      <button type="button" class="btn btn-rounded text-white" (click)="btnUpdateInIconOnAction(room)" data-bs-whatever="@mdo" data-bs-toggle="modal" data-bs-target="#exampleModal"  title="edit">
                        <i class="bi bi-pencil-square text-white"></i>
                      </button>
                      <button type="button" class="btn btn-rounded"  title="Delete" (click)="btnDeleteInIconOnAction(room.roomId)">
                        <i class="bi bi-trash text-danger"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>

              
              
          </div>
        </div>
  
        <div class="col mt-5">
          <div class="row">
          <div data-aos="fade-left">

            <div class="container bg-dark p-5 rounded-5">
              <div class="input-group mb-3">
                <span class="input-group-text border-0" style="color:rgb(255, 255, 255) ;background-color: rgba(0, 0, 0, 0);" id="search-addon"><i class="fas fa-search"></i></span>
                <input
                  type="search"
                  #inpRoomId type="search"
                  class="form-control search-room rounded bg-dark text-light"
                  placeholder="Search By ID"
                  (keyup.enter)="performSearch(inpRoomId.value)"
                  [(ngModel)]="searchQuery"
                  aria-label="Search" 
                  aria-describedby="search-addon"    
                />
              </div>
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Manage Room</h1>
              </div>
              <div class="modal-body">
                  <div class="mb-3">
                    <label for="recipient-name" class="col-form-label">Room Number</label>
                    <input type="text" class="form-control bg-dark" style="color: white;" [(ngModel)]="room.roomNumber" id="recipient-name">
                  </div>
                  <div class="mb-3">
                    <p>Room Type</p>
                    <select class="form-select bg-dark text-light" [(ngModel)]="room.roomType" (change)="onSelected()">
                      <option value="Single">Single</option>
                      <option value="Double">Double</option>
                      <option value="Suite">Suite</option>
                      <option value="Deluxe">Deluxe</option>
                    </select>
                  </div>  
                  <div class="mb-3">
                    <label for="recipient-name" class="col-form-label">Price Per Hour</label>
                    <input type="text" class="form-control bg-dark" style="color: white;" [(ngModel)]="room.pricePerHour" id="recipient-name">
                  </div>
                  <div class="mb-3">
                    <label for="recipient-name" class="col-form-label">Price Per Day</label>
                    <input type="text" class="form-control bg-dark" style="color: white;" [(ngModel)]="room.pricePerDay" id="recipient-name">
                  </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-success mx-1" (click)="addRoom(room)">Save</button>
              </div>
            </div>  
          </div>

          </div>


          <div class="row">
            <div class="card border-danger shadow-lg mt-3" style="background-color: rgb(27, 27, 27)" *ngFor="let roomUpdate of searchedRoom" >
              <img
                src="https://www.usatoday.com/gcdn/-mm-/05b227ad5b8ad4e9dcb53af4f31d7fbdb7fa901b/c=0-64-2119-1259/local/-/media/USATODAY/USATODAY/2014/08/13/1407953244000-177513283.jpg?width=660&height=373&fit=crop&format=pjpg&auto=webp"
                alt="Booking Image" style="border-radius: 8px;" class="img-fluid">
              <div class="card-body text-white">
              <p class="card-text"><b>Room ID :</b> {{roomUpdate?.roomId}}</p>
              <p class="card-text"><b>Room Number :</b> {{roomUpdate?.roomNumber}}</p>
                <p class="card-text"><b>Room Type :</b> {{roomUpdate?.roomType}}</p>
                <p class="card-text"><b>Price Per Hour(Rs.) :</b> {{roomUpdate?.pricePerHour}}</p>
                <p class="card-text"><b>Price Per Day(Rs.):</b> {{roomUpdate?.pricePerDay}}</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <!-- Example buttons -->
                    <button class="btn btn-sm btn-primary" (click)="btnEditOnAction(roomUpdate)" data-bs-toggle="modal" data-bs-target="#exampleModal" >Edit</button>
                    <button class="btn btn-sm btn-danger" (click)="btnDeleteOnAction(roomUpdate?.roomId)">Delete</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          </div>  
    </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog ">
    <div class="modal-content bg-dark">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Update Rooms</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Room ID</label>
            <input type="text" class="form-control bg-dark" style="color: white;" [(ngModel)]="roomUpdate.roomId"  disabled="true" id="recipient-name">
          </div>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Room Number</label>
            <input type="text" class="form-control bg-dark" style="color: white;" [(ngModel)]="roomUpdate.roomNumber" disabled="true" id="recipient-name">
          </div>
          <div class="mb-3">
            <p>Room Type</p>
            <select class="form-select bg-dark text-light" [(ngModel)]="roomUpdate.roomType" (change)="onSelected()">
              <option value="Single">Single</option>
              <option value="Double">Double</option>
              <option value="Suite">Suite</option>
              <option value="Deluxe">Deluxe</option>
            </select>
          </div> 
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Price Per Hour</label>
            <input type="text" class="form-control bg-dark" style="color: white;" [(ngModel)]="roomUpdate.pricePerHour" id="recipient-name">
          </div>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Price Per Day</label>
            <input type="text" class="form-control bg-dark" style="color: white;" [(ngModel)]="roomUpdate.pricePerDay" id="recipient-name">
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="btnUpdateOnAction(roomUpdate)">Update</button>
      </div>
    </div>
  </div>
</div>